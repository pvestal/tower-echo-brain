import{d as p,c as h,o as y,a as n,b as t,t as o,u as a,e as c,f as i,D as v,g as w,F as b,r as f,w as k,R as S,L as D,n as I,h as l}from"./index-y_s3za8l.js";import{u as L}from"./knowledge-BrpjMASL.js";import{u as N}from"./preferences-C6J-aS0p.js";import{u as V}from"./vault-wcEIHuZ9.js";import{u as F}from"./integrations-BfsjEjWv.js";import{_ as K}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./client-B7vGsIFd.js";const P={class:"grid grid-cols-4 gap-6 mb-8"},j={class:"card"},B={class:"text-4xl font-bold text-blue-400"},C={class:"card"},R={class:"text-4xl font-bold text-blue-400"},E={class:"card"},z={class:"text-4xl font-bold text-blue-400"},A={class:"card"},M={class:"text-4xl font-bold text-blue-400"},T={class:"card mb-8"},W={class:"text-xl font-semibold mb-4 flex items-center gap-2"},$={class:"space-y-2"},q={class:"text-blue-400"},G={class:"text-gray-500"},H={class:"text-white"},J={key:0,class:"text-gray-500"},O={class:"card"},Q={class:"text-xl font-semibold mb-4 flex items-center gap-2"},U={class:"space-y-3"},X={class:"flex items-center gap-3"},Y={class:"text-sm text-gray-500"},Z=p({__name:"Dashboard",setup(tt){const r=L(),u=N(),_=V(),d=F(),m=h(()=>r.facts.slice(0,10));function g(x){return new Date(x).toLocaleDateString()}return y(async()=>{await Promise.all([r.fetchFacts(),r.fetchSubjects(),u.fetchPreferences(),_.fetchKeys(),d.fetchIntegrations()])}),(x,e)=>(l(),n("div",null,[e[7]||(e[7]=t("h1",{class:"text-3xl font-bold mb-8"},"What Echo Brain Knows",-1)),t("div",P,[t("div",j,[t("div",B,o(a(r).total),1),e[0]||(e[0]=t("div",{class:"text-gray-400 mt-1"},"Facts",-1))]),t("div",C,[t("div",R,o(a(u).preferences.length),1),e[1]||(e[1]=t("div",{class:"text-gray-400 mt-1"},"Preferences",-1))]),t("div",E,[t("div",z,o(a(d).connected.length)+"/"+o(a(d).integrations.length),1),e[2]||(e[2]=t("div",{class:"text-gray-400 mt-1"},"Integrations",-1))]),t("div",A,[t("div",M,o(a(_).keys.filter(s=>s.is_set).length),1),e[3]||(e[3]=t("div",{class:"text-gray-400 mt-1"},"API Keys",-1))])]),t("div",T,[t("h2",W,[c(a(v),{class:"w-5 h-5 text-blue-400"}),e[4]||(e[4]=i(" Recent Knowledge ",-1))]),t("div",$,[(l(!0),n(b,null,f(m.value,s=>(l(),n("div",{key:s.id,class:"flex items-center gap-2 text-gray-300 py-2 border-b border-gray-700 last:border-0"},[t("span",q,o(s.subject),1),t("span",G,o(s.predicate),1),t("span",H,o(s.object),1)]))),128)),m.value.length===0?(l(),n("div",J," No facts yet. Start adding knowledge! ")):w("",!0)]),c(a(S),{to:"/knowledge",class:"text-blue-400 hover:text-blue-300 text-sm mt-4 inline-block"},{default:k(()=>[...e[5]||(e[5]=[i(" View all knowledge â†’ ",-1)])]),_:1})]),t("div",O,[t("h2",Q,[c(a(D),{class:"w-5 h-5 text-blue-400"}),e[6]||(e[6]=i(" Integration Status ",-1))]),t("div",U,[(l(!0),n(b,null,f(a(d).integrations,s=>(l(),n("div",{key:s.id,class:"flex items-center justify-between py-2 border-b border-gray-700 last:border-0"},[t("div",X,[t("span",{class:I(["w-3 h-3 rounded-full",{"bg-green-500":s.status==="connected","bg-red-500":s.status==="disconnected","bg-yellow-500":s.status==="error"}])},null,2),t("span",null,o(s.display_name),1)]),t("span",Y,o(s.last_sync_at?`Last sync: ${g(s.last_sync_at)}`:"Not connected"),1)]))),128))])])]))}}),dt=K(Z,[["__scopeId","data-v-aa540690"]]);export{dt as default};
