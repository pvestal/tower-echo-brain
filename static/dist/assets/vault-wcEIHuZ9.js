import{p as v,k as y}from"./index-y_s3za8l.js";import{a as r}from"./client-B7vGsIFd.js";const c={async listKeys(){const{data:e}=await r.get("/api/vault/keys");return e.keys},async createKey(e){const{data:s}=await r.post("/api/vault/keys",e);return s},async deleteKey(e){await r.delete(`/api/vault/keys/${e}`)},async testKey(e){const{data:s}=await r.post(`/api/vault/keys/${e}/test`);return s}},w=v("vault",()=>{const e=y([]),s=y(!1),n=y(null);async function l(){s.value=!0;try{e.value=await c.listKeys()}catch(a){n.value=a.message}finally{s.value=!1}}async function u(a){try{await c.createKey(a),await l()}catch(t){throw n.value=t.message,t}}async function i(a){try{await c.deleteKey(a),e.value=e.value.filter(t=>t.key_name!==a)}catch(t){throw n.value=t.message,t}}async function o(a){try{return await c.testKey(a)}catch(t){throw n.value=t.message,t}}return{keys:e,loading:s,error:n,fetchKeys:l,createKey:u,deleteKey:i,testKey:o}});export{w as u};
