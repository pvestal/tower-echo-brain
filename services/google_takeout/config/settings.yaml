# Google Takeout Automation Configuration
# Tower Echo Brain Integration

# Vault Configuration
vault:
  url: "http://127.0.0.1:8200"
  auth_method: "token"
  token_path: "/opt/vault/config/vault_token"
  secret_path: "secret/google/takeout"

# Google APIs Configuration
google:
  oauth2:
    scopes:
      - "https://www.googleapis.com/auth/takeout"
      - "https://www.googleapis.com/auth/photoslibrary.readonly"
      - "https://www.googleapis.com/auth/userinfo.email"
      - "https://www.googleapis.com/auth/userinfo.profile"
      - "https://www.googleapis.com/auth/gmail.readonly"
      - "https://www.googleapis.com/auth/drive.readonly"

  takeout:
    api_endpoint: "https://takeout.google.com/api/v1"
    max_retries: 3
    retry_delay: 60  # seconds
    timeout: 300     # seconds

# Download Configuration
download:
  base_path: "/opt/tower-echo-brain/data/takeout"
  chunk_size: 8192  # 8KB chunks
  max_concurrent: 3
  resume_support: true
  verify_checksums: true
  temp_suffix: ".downloading"

# Deduplication Configuration
deduplication:
  hash_algorithm: "sha256"
  chunk_size: 65536  # 64KB for hashing
  database_batch_size: 1000
  comparison_paths:
    - "/mnt/10TB2/"
    - "/opt/tower-echo-brain/data/takeout/archive/"

# Database Configuration
database:
  host: "localhost"
  port: 5432
  database: "tower_consolidated"
  schema: "google_takeout"
  connection_pool_size: 10

# Echo Brain Integration
echo_brain:
  learning_pipeline_path: "/opt/tower-echo-brain/services/learning_pipeline/"
  qdrant_host: "localhost"
  qdrant_port: 6333
  vector_collection: "takeout_memories"

# Logging Configuration
logging:
  level: "INFO"
  file: "/opt/tower-echo-brain/services/google_takeout/logs/takeout.log"
  max_bytes: 104857600  # 100MB
  backup_count: 5
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"

# Processing Configuration
processing:
  batch_size: 100
  max_concurrent_workers: 4
  supported_formats:
    images: [".jpg", ".jpeg", ".png", ".gif", ".bmp", ".tiff", ".webp", ".heic"]
    videos: [".mp4", ".avi", ".mov", ".mkv", ".webm", ".m4v"]
    documents: [".pdf", ".doc", ".docx", ".txt", ".rtf"]
    emails: [".eml", ".msg", ".mbox"]
    data: [".json", ".csv", ".xml", ".html"]
    databases: [".db", ".sqlite", ".sqlite3"]

  metadata_extraction:
    enabled: true
    include_exif: true
    include_location: true
    include_timestamp: true
    face_recognition_enabled: true
    object_detection_enabled: true
    sentiment_analysis_enabled: true

# Omniscient Collection Configuration
omniscient:
  data_sources:
    google_photos: true
    gmail: true
    google_calendar: true
    browser_history: true
    chrome_passwords: false  # High risk - disabled by default
    firefox_passwords: false  # High risk - disabled by default
    system_keychain: false  # High risk - disabled by default

  face_recognition:
    enabled: true
    confidence_threshold: 0.6
    max_faces_per_image: 20
    store_face_encodings: true

  privacy_settings:
    classify_sensitive_content: true
    encrypt_classified_data: true
    anonymize_personal_data: false

  intelligence_extraction:
    relationship_mapping: true
    pattern_recognition: true
    predictive_modeling: true
    behavioral_analysis: true

# Vector Embedding Configuration
embedding:
  model: "text-embedding-3-small"
  dimension: 1536
  batch_size: 50
  similarity_threshold: 0.7

# Backup and Archival
backup:
  incremental_enabled: true
  full_backup_interval: 30  # days
  compression: "gzip"
  retention_period: 365  # days

# Security Configuration
security:
  credential_rotation_interval: 90  # days
  api_rate_limits:
    requests_per_minute: 60
    requests_per_hour: 1000
  ssl_verify: true
  encryption_key_rotation: true

# Monitoring Configuration
monitoring:
  health_check_interval: 300  # seconds
  metrics_enabled: true
  alerts:
    webhook_url: null
    email_notifications: true
    failure_threshold: 3